{   BHeimilisfólk.inc SILC

    Eftirfarandi breytur þurfa að vera til staðar:
    haus      : Auðkenni könnunar
                Auðkenni þátttakanda
    fsvar     : Viðeigandi fyrra svar
    strik     : Strik sem aðskilur haus og spurningu
}

BLOCK BHeimilismaður "Annað heimilisfólk"
  PARAMETERS
    IMPORT viðmiðunardagur : DateType
    IMPORT persóna     : TPersóna
    IMPORT saldur      : INTEGER
    IMPORT Nýr         : TJáNei
    IMPORT Farinn      : TJáNei
    IMPORT Hjústétt    : THju
    EXPORT Vinnufær    : TJáNei
    IMPORT NúmerHeimilismanns :integer
    import umferd : integer {í fyrstu umferð spyrjum við um persónu, í annari spyrjum við um tengsl}
    import kyn_seinni_hluti : TKyn {í seinni umferð fáum við að vita kyn sem færibreytu }
    import hjusvar_1        : Integer
    import óskráður_seinni_hluti : Tjánei

    FIELDS

    kennitala  (HM07)        : string[10], EMPTY
    aldur    (HM08)
     "^haus@/^fsvar@/^strik@/
       Hvað er ^hhann ^ggamall ?@G"
      "^haus@/^fsvar@/^strik@/^preamble
       What age is this person ?@G"
      /"Aldur": 0..110, EMPTY
    nafn  (HM09)                 "^haus@/^fsvar@/^strik@/
       Hvað heitir hann / hún ?
       @/@/@GEf nöfn eru forskráð, lesið þá nafnið og spyrjið Er þetta rétt nafn?
       @/Ef svo er, hlaupið þá yfir útfyllta reiti, en spyrjið við þá sem eru óútfylltir@G"
      "^haus@/^fsvar@/^strik@/^preamble
       What is this persons name ?
       @/@/@GEf nöfn eru forskráð, lesið þá nafnið og spyrjið Er þetta rétt nafn?
       @/Ef svo er, hlaupið þá yfir útfyllta reiti, en spyrjið við þá sem eru óútfylltir@G"
      /"Nafn" :string[31]
    fæðingarland       : string[2], EMPTY
    ríkisfang          : string[2], EMPTY
    maki               : string[10], EMPTY
    Brottfluttur       : TJáNei
    Óskráður           : TJáNei

    Kennitoluleit {Ný spurning. AÖK 21. nóv. 2007}
     "^haus@/^fsvar@/^strik@/
     @GSpyrill, ef upplýsingar um heimilismann eru litlar, reyndu að fá frekari upplýsingar til að auðvelda kennitöluleit. @uBest er að fá afmælisdag.@u Ef svarandi veit
     bókstaflega ekkert um viðkomandi, fáðu hann til að spyrja annan heimilismann um upplýsingar.@G"
     "^haus@/^fsvar@/^strik@/
     @GSpyrill, ef upplýsingar um heimilismann eru litlar, reyndu að fá frekari upplýsingar til að auðvelda kennitöluleit. @uBest er að fá afmælisdag.@u Ef svarandi veit
     bókstaflega ekkert um viðkomandi, fáðu hann til að spyrja annan heimilismann um upplýsingar.@G": STRING[500], empty

    Kyn (Hm10)
      "^haus@/^fsvar@/^strik@/
       Hvert er kyn hans / hennar ?"
      "^haus@/^fsvar@/^strik@/^preamble
       Is the person male or female?"
      /"Kyn"
      : TKyn

    FæðÁr (Hm11)
      "^haus@/^fsvar@/^strik@/
       Hvaða ár er ^hhann fædd^ur ?"
      "^haus@/^fsvar@/^strik@/
       What year was ^hhe born ?"
      /"Fæðingarár"
      : TFæðÁr, dk
    Aldursbil (Hm11a)
      "^haus@/^fsvar@/^strik@/
       Á hvaða aldursbili er ^hhann ?
       @/@/@RMjög mikilvægt er að fá svar við þessari spurningu, reyndu að láta svaranda taka afstöðu og merkja í einhvern hóp. Ónákvæmt gisk er betra en ekkert svar!@R"
      "^haus@/^fsvar@/^strik@/
       Which agegroup does ^hhe belong to ?
       @/@/@RMjög mikilvægt er að fá svar við þessari spurningu, reyndu að láta svaranda taka afstöðu og merkja í einhvern hóp. Ónákvæmt gisk er betra en ekkert svar!@R"
      /"Aldursbil"
      : ( tilfimm "0-5 ára",
          sex     "6-12 ára",
          þrettán "13-15 ára",
          sextán  "16-19 ára",
          tuttugu "20-24 ára",
          t25     "25-29 ára",
          t30     "30-39 ára",
          t40     "40-49 ára",
          t50     "50-54 ára",
          t55     "55-59 ára",
          t60     "60-66 ára",
          t67     "67-74 ára",
          t75     "75-79 ára",
          t80     "80 og eldri"
         ), dk

    Afmæli (Hm12)
      "^haus@/^fsvar@/^strik@/
       Er ^hhann búin^n að eiga afmæli á árinu ?"
      "^haus@/^fsvar@/^strik@/
       Has ^hhe already had a birthday this year ?"
      /"Afmæli"
      : TJáNei
    VinAld (Hm13)
      "^haus@/^fsvar@/^strik@/
       Er ^hhann milli 16 og 74 ára ?"
      "^haus@/^fsvar@/^strik@/
       Is ^hhe aged between 16 and 74 ?"
      /"Vinnualdur"
      : TJáNei
    Tengsl (Hm14)
      "^haus@/^fsvar@/^strik@/
       Hvernig er ^hhann tengd^ur ^þér ?
       @/@/@GMeð barni er bæði átt við eigin börn og börn maka.
       Með foreldri er átt við bæði blóðforeldra og stjúpforeldra.@G"
      "^haus@/^fsvar@/^strik@/
       What is ^hhis relation to ^you ?
       @/@/@GMeð barni er bæði átt við eigin börn og börn maka.
       Með foreldri er átt við bæði blóðforeldra og stjúpforeldra. Ef svili / svilkona þá fært á mágur / mágkona.@G"
      /"Tengsl"
      : TTengsl
    Hjú (Hm15)
      "^haus@/^fsvar@/^strik@/
       Hver er hjúskaparstaða ^hhans ?"
      "^haus@/^fsvar@/^strik@/
       What is ^hhis marital status ?"
      /"Hjúskapur"
      : THju
    thjodskra_hju      :string[1]


    {HjúSpurt (Hm15)
      "^haus@/^fsvar@/^strik@/
       Hver er hjúskaparstaða ^hhans ?"
      "^haus@/^fsvar@/^strik@/
       What is ^hhis marital status ?"
      /"Hjúskapur"
      : THjuSpurt}

    HjúSvar (Hm17)
      "^haus@/^fsvar@/^strik@/
      Hver er hjúskaparstaða ^hhans?"
      "^haus@/^fsvar@/^strik@/
      What is ^your marital status ?"
      /"HjúskaparstaðaSvaranda"
      : THjúsvar  {Kóperuð Hjúsvar úr BFjölskylda 080108}

    pk_maka
      "^haus@/^fsvar@/^strik@/
       Þú sagðir mér áðan að ^Heimilismaður[NúmerHeimilismanns].nafn væri í sambúð. Hver heimilismanna er í sambúð með ^hhonum?
       @/@/@GEf hann er á heimilinu þá skráið númer heimilismanns.  Ef hann er ekki á heimilinu, skiljið reitinn eftir auðann@G"
      "^haus@/^fsvar@/^strik@/
       Who is the spouse ?
       @/@/@GEf hann er á heimilinu þá skráið númer heimilismanns.  Ef hann er ekki á heimilinu, skiljið reitinn eftir auðann@G"
      /"pk_maka"
      : (heim02(2)  "^maki_heimNafn2",
         heim03  "^maki_heimNafn3",
         heim04  "^maki_heimNafn4",
         heim05  "^maki_heimNafn5",
         heim06  "^maki_heimNafn6",
         heim07  "^maki_heimNafn7",
         heim08  "^maki_heimNafn8",
         heim09  "^maki_heimNafn9",
         heim10  "^maki_heimNafn10",
         heim11  "^maki_heimNafn11",
         heim12  "^maki_heimNafn12",
         heim13  "^maki_heimNafn13",
         heim14  "^maki_heimNafn14",
         heim15  "^maki_heimNafn15"), empty

    pk_fadir
      "^haus@/^fsvar@/^strik@/
       @GSpurt er um: ^Heimilismaður[NúmerHeimilismanns].nafn@/@/@G
       Er faðir ^hhans á heimilinu? Hver er það?
       @/@/@GEf hann er á heimilinu þá skráið númer heimilismanns.  Ef hann er ekki á heimilinu, skiljið reitinn eftir auðann@G"
      "^haus@/^fsvar@/^strik@/
       Who is his/her father ?
       @/@/@GEf hann er á heimilinu þá skráið númer heimilismanns.  Ef hann er ekki á heimilinu, skiljið reitinn eftir auðann@G"
      /"pk_fadir"
      : (heim02(2)  "^fadir_heimNafn2",
         heim03  "^fadir_heimNafn3",
         heim04  "^fadir_heimNafn4",
         heim05  "^fadir_heimNafn5",
         heim06  "^fadir_heimNafn6",
         heim07  "^fadir_heimNafn7",
         heim08  "^fadir_heimNafn8",
         heim09  "^fadir_heimNafn9",
         heim10  "^fadir_heimNafn10",
         heim11  "^fadir_heimNafn11",
         heim12  "^fadir_heimNafn12",
         heim13  "^fadir_heimNafn13",
         heim14  "^fadir_heimNafn14",
         heim15  "^fadir_heimNafn15"), empty
    pk_modir
      "^haus@/^fsvar@/^strik@/
       @GSpurt er um: ^Heimilismaður[NúmerHeimilismanns].nafn@/@/@G
       Er móðir ^hhans á heimilinu? Hver er það?
       @/@/@Ghún er á heimilinu þá skráið númer heimilismanns.  Ef hún er ekki á heimilinu, skiljið reitinn eftir auðann ?@G"
      "^haus@/^fsvar@/^strik@/
       Who is his/her mother ?
       @/@/@Ghún er á heimilinu þá skráið númer heimilismanns.  Ef hún er ekki á heimilinu, skiljið reitinn eftir auðann ?@G"
      /"pk_modir"
      : (heim02(2)  "^modir_heimNafn2",
         heim03  "^modir_heimNafn3",
         heim04  "^modir_heimNafn4",
         heim05  "^modir_heimNafn5",
         heim06  "^modir_heimNafn6",
         heim07  "^modir_heimNafn7",
         heim08  "^modir_heimNafn8",
         heim09  "^modir_heimNafn9",
         heim10  "^modir_heimNafn10",
         heim11  "^modir_heimNafn11",
         heim12  "^modir_heimNafn12",
         heim13  "^modir_heimNafn13",
         heim14  "^modir_heimNafn14",
         heim15  "^modir_heimNafn15"), empty

    nanar_oskyldur
      "^haus@/^fsvar@/^strik@/
       Er þessi heimilismaður í hjúskap eða sambúð með einhverjum á heimilinu ?
       @/@/@GEf já, þá þarf að bakka og laga merkingu í viðeigandi spurningu.@G"
      "^haus@/^fsvar@/^strik@/
       Is this person married to or living with a member of the household ?
       @/@/@GEf já, þá þarf að bakka og laga merkingu í viðeigandi spurningu.@G"
      /"nanar_oskyldur"
      : TJáNei


   Upphaflega (Hm17)
      "^haus@/^fsvar@/^strik@/
       FRAMKVÆMD Bjó hann á upphaflegu heimili ?"
      : TJánei

    Staða_í_könnun (Hm18)
      "^haus@/^fsvar@/^strik@/
       FRAMKVÆMD Staða í könnun ?"
      : STRING [1]

     Hvert_flutt (Hm20)
      "^haus@/^fsvar@/^strik@/
       FRAMKVÆMD Hvert flutt ?"
      : STRING [1]

     Mánuður_flutt (Hm21)
      "^haus@/^fsvar@/^strik@/
       FRAMKVÆMD Mánuður ?"
      : STRING [2]

     Ár_flutt (Hm22)
      "^haus@/^fsvar@/^strik@/
       FRAMKVÆMD Ár ?"
      : STRING [4]

     Mánuður_inn (Hm23)
      "^haus@/^fsvar@/^strik@/
       FRAMKVÆMD Mánuður inn ?"
      : STRING [2]

      Ár_inn (Hm24)
      "^haus@/^fsvar@/^strik@/
       FRAMKVÆMD Ár inn ?"
      : STRING [4]

       Fjöldi_mánaða (Hm25)
      "^haus@/^fsvar@/^strik@/
       FRAMKVÆMD Fjöldi mánaða  ?"
      : STRING [2]

      Staða_heimilis (Hm26)
      "^haus@/^fsvar@/^strik@/
       FRAMKVÆMD Staða heimilis ?"
      : STRING [1]

      HmNýrMánuður        "^haus@/^fsvar@/^strik@/
                            Í hvaða mánuði flutti ^Heimilismaður[NúmerHeimilismanns].nafn inn á heimilið ?
                            @/@/@GEf svarandi flutti inn á nýtt heimili þar sem fyrir voru allir heimilismenn sem hann hefur tilgreint til þessa,
                            þá skal skrá inn mánuð og ár sem svarandi flutti inn á heimilið. Miða skal við að skrá inn tímann þegar svarandi og
                            aðrir heimilismenn urðu að heimili.@G"
                          "^haus@/^fsvar@/^strik@/
                            Which month did ^Heimilismaður[NúmerHeimilismanns].nafn move into the household?
                            @/@/@GEf svarandi flutti inn á nýtt heimili þar sem fyrir voru allir heimilismenn sem hann hefur tilgreint til þessa,
                            þá skal skrá inn mánuð og ár sem svarandi flutti inn á heimilið. Miða skal við að skrá inn tímann þegar svarandi og
                            aðrir heimilismenn urðu að heimili.@G"
                           / "Hvaða mánuði"
                           : TMánuðir


      HmNýrMánuðurGisk    "^haus@/^fsvar@/^strik@/
                            En ef þú ættir að segja þína bestu ágiskun. Í hvaða mánuði heldur þú að ^Heimilismaður[NúmerHeimilismanns].nafn hafi flutt inn á heimilið?
                            @/@/@GEf svarandi flutti inn á nýtt heimili þar sem fyrir voru allir heimilismenn sem hann hefur tilgreint til þessa,
                            þá skal skrá inn mánuð og ár sem svarandi flutti inn á heimilið. Miða skal við að skrá inn tímann þegar svarandi og
                            aðrir heimilismenn urðu að heimili.@G"
                          "^haus@/^fsvar@/^strik@/
                            But if you had to give your best guess. Which month do you think ^Heimilismaður[NúmerHeimilismanns].nafn moved into the household?
                            @/@/@GEf svarandi flutti inn á nýtt heimili þar sem fyrir voru allir heimilismenn sem hann hefur tilgreint til þessa,
                            þá skal skrá inn mánuð og ár sem svarandi flutti inn á heimilið. Miða skal við að skrá inn tímann þegar svarandi og
                            aðrir heimilismenn urðu að heimili.@G"
                           / "Hvaða mánuði gisk"
                           : TMánuðir


      HmNýrÁr              "^haus@/^fsvar@/^strik@/
                            Hvaða ár flutti ^Heimilismaður[NúmerHeimilismanns].nafn inn á heimilið?
                            @/@/@GEf svarandi flutti inn á nýtt heimili þar sem fyrir voru allir heimilismenn sem hann hefur tilgreint til þessa,
                            þá skal skrá inn mánuð og ár sem svarandi flutti inn á heimilið. Miða skal við að skrá inn tímann þegar svarandi og
                            aðrir heimilismenn urðu að heimili.@G"
                            "^haus@/^fsvar@/^strik@/
                            Which year did ^Heimilismaður[NúmerHeimilismanns].nafn move into the household?
                            @/@/@GEf svarandi flutti inn á nýtt heimili þar sem fyrir voru allir heimilismenn sem hann hefur tilgreint til þessa,
                            þá skal skrá inn mánuð og ár sem svarandi flutti inn á heimilið. Miða skal við að skrá inn tímann þegar svarandi og
                            aðrir heimilismenn urðu að heimili.@G"
                           / "Hvaða ár" : Tártal150

    Fæðingardagur  : DateType
    Alias          : String[50]
    FyrraHmnr      : integer, empty {Fyrra númer heimilismanns}

  AUXFIELDS
    hhann          : STRING
    hhans          : STRING
    hhe            : string
    hhis           : STRING
    hhimself       : STRING
    MakaFj         : INTEGER
    fæðingarár     : INTEGER[4]
    fd             : TJáNei
    viðmiðunarár   : INTEGER[4]
    TnTexti        : string
    inngangur      : string
    preamble       : string
    ggamall        : string
    hhonum         : string
    maki_heimNafn1,maki_heimNafn2,maki_heimNafn3,maki_heimNafn4,maki_heimNafn5,
    maki_heimNafn6,maki_heimNafn7,maki_heimNafn8,maki_heimNafn9,
    maki_heimNafn10,maki_heimNafn11,maki_heimNafn12,maki_heimNafn13,
    maki_heimNafn14,maki_heimNafn15 :STRING

    fadir_heimNafn1,fadir_heimNafn2,fadir_heimNafn3,fadir_heimNafn4,fadir_heimNafn5,
    fadir_heimNafn6,fadir_heimNafn7,fadir_heimNafn8,fadir_heimNafn9,
    fadir_heimNafn10,fadir_heimNafn11,fadir_heimNafn12,fadir_heimNafn13,
    fadir_heimNafn14,fadir_heimNafn15 :STRING

    modir_heimNafn1,modir_heimNafn2,modir_heimNafn3,modir_heimNafn4,modir_heimNafn5,
    modir_heimNafn6,modir_heimNafn7,modir_heimNafn8,modir_heimNafn9,
    modir_heimNafn10,modir_heimNafn11,modir_heimNafn12,modir_heimNafn13,
    modir_heimNafn14,modir_heimNafn15 :STRING


   LOCALS
    öld           : STRING[1]
    fdate         : STRING
    þér, you       : string

   locals i : integer

   RULES

    kennitala.keep
    aldur.keep
    nafn.keep
    fæðingarland.keep
    ríkisfang.keep
    maki.keep
    Brottfluttur.keep
    Óskráður.keep

    Kennitoluleit.keep
    Kyn.keep
    FæðÁr.keep
    Aldursbil.keep
    Afmæli.keep
    VinAld.keep
    {Tengsl.keep} {fært neðar. Við viljum geta breytt Tengsl og einnig mega tengsl brottfluttra heimilismanna ekki verða eftir}
    Hjú.keep
    {HjúSvar.keep} {fært neðar}
    pk_maka.keep
    pk_fadir.keep
    pk_modir.keep
    nanar_oskyldur.keep
    Upphaflega.keep
    Staða_í_könnun.keep
    Hvert_flutt.keep
    Mánuður_flutt.keep
    Ár_flutt .keep
    Mánuður_inn.keep
    Ár_inn.keep
    Fjöldi_mánaða.keep
    Staða_heimilis.keep
    HmNýrMánuður.keep
    HmNýrMánuðurGisk.keep
    HmNýrÁr.keep
    Fæðingardagur.keep
    Alias.keep
    FyrraHmnr.keep

     IF NOT (Persóna IN [karl, kona]) THEN
       þér := fornafn
       you := fornafn
     ELSE
       þér := 'þér'
       you := 'you'
     ENDIF
     viðmiðunarár.keep
     viðmiðunarár := year(viðmiðunardagur)
     Brottfluttur.KEEP
     Brottfluttur := Farinn
     Óskráður.keep
     Óskráður  := Nýr
     IF Farinn = Já THEN
       nafn.keep
       kennitala.keep
       kyn.keep
       aldur.keep
       fæðingarland.keep
       ríkisfang.keep
       maki.keep
       Fæðár.keep
       Afmæli.keep
       VinAld.keep
       {Tengsl.keep}
       Hjú.keep
       Alias.keep
       fæðingardagur.keep
       prc_Skyldleiki (Tengsl, Kyn, TnTexti)
       Alias := Nafn + ', ' + TnTexti+ ', ' + str(aldur) + ' ára'
     ELSEIF Nýr = Já or Nýr = Nei THEN {heimilismaður sem ekki er forskráður}
       if Nýr = nei and len(kennitala) > 0 then
         fsvar := '@c'+Nafn+'@c'
         Kennitala.KEEP
         IF Substring(Kennitala,10,1) < '8' THEN Öld := '2' ELSE Öld := '1' ENDIF
         aldur.keep
         fæðingarland.keep
         ríkisfang.keep
         maki.keep
         if (FæðÁr = empty) and (kennitala <> empty) then
           FæðÁr := Val(Öld + Substring(Kennitala,10,1) + Substring(Kennitala,5,2))
         endif
         IF aldur >= 16  THEN      {Spurt um alla 16 ára og eldri í SILC}
           VinAld := Já
         ELSE
           VinAld := Nei
         ENDIF
         prc_Skyldleiki (Tengsl, Kyn, TnTexti)
         Alias := Nafn + ', ' + TnTexti+ ', ' + str(aldur) + ' ára'
         if (fæðingardagur = empty) and (kennitala <> empty) then
           fæðingardagur := strToDate(Substring(Kennitala,1,2)+'.'+Substring(Kennitala,3,2)+'.'+Str(FæðÁr))
         endif
       endif
       fsvar := ''
       if umferd = 1 then
         Nafn {hér mætti spyrja um nafn heimilismannsins}
         Kyn {ef kennitala heimilismannsins finnst í þjóðskrá mætti úthluta kyninu}
       endif
       Kennitala.KEEP {hér mætti spyrja um kennitölu heimilismannsins}
       Brottfluttur.KEEP
       Óskráður.KEEP

       fæðingarland.keep
       ríkisfang.keep
       maki.keep

       if umferd = 1 then
         IF Kyn = Karl THEN
           hhann       := 'hann'
           hhans       := 'hans'
           hhis        := 'his'
           hhe         := 'he'
           hhimself    := 'himself'
           n           := 'n'
           ur          := 'ur'
           ill         := 'ill'
           gifst       := 'kvænst'
           giftur      := 'Kvæntur'
           fsvar       := '@cKarlmaður@c'
           ggamall     := 'gamall'
           hhonum      := 'honum'
         ELSEIF Kyn = Kona THEN
           hhann       := 'hún'
           hhans       := 'hennar'
           hhe         := 'she'
           hhis        := 'her'
           hhimself    := 'herself'
           n           := ''
           ur          := ''
           ill         := 'ja'
           gifst       := 'gifst'
           giftur      := 'Gift'
           fsvar       := '@cKvenmaður@c'
           ggamall     := 'gömul'
           hhonum      := 'henni'
         ELSE
           hhann       := 'hann/hún'
           hhans       := 'hans/hennar'
           hhe         := 'he/she'
           hhis        := 'his/her'
           hhimself    := 'him/herself'
           n           := '/n'
           ur          := '/ur'
           ill         := 'ill/ja'
           gifst       := 'gifst'
           giftur      := 'Gift/ur'
           fsvar       := '@cKyn óvíst@c'
           ggamall      := 'gamall/gömul'
           hhonum      := 'honum/henni'
         ENDIF
       elseif umferd = 2 then
         IF Kyn_seinni_hluti = Karl THEN
           hhann       := 'hann'
           hhans       := 'hans'
           hhis        := 'his'
           hhe         := 'he'
           hhimself    := 'himself'
           n           := 'n'
           ur          := 'ur'
           ill         := 'ill'
           gifst       := 'kvænst'
           giftur      := 'Kvæntur'
           fsvar       := '@cKarlmaður@c'
           ggamall     := 'gamall'
           hhonum      := 'honum'
         ELSEIF Kyn_seinni_hluti = Kona THEN
           hhann       := 'hún'
           hhans       := 'hennar'
           hhe         := 'she'
           hhis        := 'her'
           hhimself    := 'herself'
           n           := ''
           ur          := ''
           ill         := 'ja'
           gifst       := 'gifst'
           giftur      := 'Gift'
           fsvar       := '@cKvenmaður@c'
           ggamall     := 'gömul'
           hhonum      := 'henni'
         ELSE
           hhann       := 'hann/hún'
           hhans       := 'hans/hennar'
           hhe         := 'he/she'
           hhis        := 'his/her'
           hhimself    := 'him/herself'
           n           := '/n'
           ur          := '/ur'
           ill         := 'ill/ja'
           gifst       := 'gifst'
           giftur      := 'Gift/ur'
           fsvar       := '@cKyn óvíst@c'
           ggamall      := 'gamall/gömul'
           hhonum      := 'honum/henni'
         ENDIF
       endif

       if umferd = 1 then
         FæðÁr

       {Hér þarf að koma Y2K tékk:}
       IF FæðÁr = RESPONSE THEN
         IF FæðÁr< 1000 THEN
           FæðÁr>= 1000 "Árið verður að vera 4 tölustafir !"
         ENDIF
       ENDIF
       if FæðÁr = Response then
         aldur := max((year(viðmiðunardagur_aldurs) - FæðÁr),0)
       else
         aldur := 0  {setur sjálfgefið gildi, þyrfti að skoða hvernir eru 0 ára}
       endif
       aldur.SHOW



       IF FæðÁr = Year(viðmiðunardagur) THEN
         Aldur   := 0
         VinAld := Nei
       ELSEIF FæðÁr = RESPONSE THEN
         IF Aldur >= 16 THEN  {Í SILCI geta allir 16 ára og eldri verið í vinnu}
           VinAld := Já
         ELSE
           VinAld := Nei
         ENDIF
         VinAld.show
       ELSE
         Aldursbil
         if (Aldursbil = tilfimm) then
           aldur := 5
           VinAld := Nei
         elseif (Aldursbil = sex ) then
           aldur := 12
           VinAld := Nei
         elseif (Aldursbil = þrettán) then
           Aldur := 13
           VinAld := Nei
         elseif (Aldursbil = sextán) or (Aldursbil = tuttugu) then
           Aldur := 16
           VinAld := Já
         elseif (Aldursbil = t25) or (Aldursbil = t30) or (Aldursbil = t40) or (Aldursbil = t50) or (Aldursbil = t55) or (Aldursbil = t60) then
           Aldur := 25
           VinAld := Já
         elseif (Aldursbil = t67) then
           Aldur := 67
           VinAld := Já
         elseif (Aldursbil = t75) or (Aldursbil = t80) then
           Aldur := 75
           VinAld := Nei
         else
           VinAld
           if VinAld = já then
             Aldur := 16
           else
             Aldur := dk
           endif
         endif
         if aldur <> dk then
           FæðÁr := year(viðmiðunardagur_aldurs) - aldur
         endif
       ENDIF

       {AÖK 211107}
       kennitoluleit
        if brottfluttur = já
        then tengsl := empty
             hjúsvar :=empty
        endif

        endif{endir á umferð 1}
       if umferd = 1 then
         Tengsl
         tengsl.keep
       endif
       prc_Skyldleiki (Tengsl, Kyn, TnTexti)
       fsvar := '@c'+TnTexti+'@c'
       Hjú.show
       IF tengsl = maki and brottfluttur = nei
        then hjúsvar := sambud
             hjúsvar.show
        elseif tengsl <> maki and  umferd = 1 and (aldur > 15 or FæðÁr = dk) THEN
           Hjúsvar
        endif
       HjúSvar.keep
       if umferd = 2 then

        IF hjusvar_1 = 1
            then (heimilismaður[2].tengsl = maki and heimilismaður[2].brottfluttur = nei)
              or (heimilismaður[3].tengsl = maki and heimilismaður[3].brottfluttur = nei)
              or (heimilismaður[4].tengsl = maki and heimilismaður[4].brottfluttur = nei)
              or (heimilismaður[5].tengsl = maki and heimilismaður[5].brottfluttur = nei)
              or (heimilismaður[6].tengsl = maki and heimilismaður[6].brottfluttur = nei)
              or (heimilismaður[7].tengsl = maki and heimilismaður[7].brottfluttur = nei)
              or (heimilismaður[8].tengsl = maki and heimilismaður[8].brottfluttur = nei)
              or (heimilismaður[9].tengsl = maki and heimilismaður[9].brottfluttur = nei)
              or (heimilismaður[10].tengsl = maki and heimilismaður[10].brottfluttur = nei)
              or (heimilismaður[11].tengsl = maki and heimilismaður[11].brottfluttur = nei)
              or (heimilismaður[12].tengsl = maki and heimilismaður[12].brottfluttur = nei)
              or (heimilismaður[13].tengsl = maki and heimilismaður[13].brottfluttur = nei)
              or (heimilismaður[14].tengsl = maki and heimilismaður[14].brottfluttur = nei)
              or (heimilismaður[15].tengsl = maki and heimilismaður[15].brottfluttur = nei)
              "Einhver heimilismanna er í sambúð með svaranda, en hann hefur ekki verið merktur sem maki hans."
        ENDIF


        IF hjusvar_1 = 0
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
              and (heimilismaður[3].tengsl <> maki  or heimilismaður[3].brottfluttur = já)
              and (heimilismaður[4].tengsl <> maki  or heimilismaður[4].brottfluttur = já)
              and (heimilismaður[5].tengsl <> maki  or heimilismaður[5].brottfluttur = já)
              and (heimilismaður[6].tengsl <> maki  or heimilismaður[6].brottfluttur = já)
              and (heimilismaður[7].tengsl <> maki  or heimilismaður[7].brottfluttur = já)
              and (heimilismaður[8].tengsl <> maki  or heimilismaður[8].brottfluttur = já)
              and (heimilismaður[9].tengsl <> maki  or heimilismaður[9].brottfluttur = já)
              and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
              and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
              and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
              and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
              and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
              and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
              "Einhver heimilismanna er skráður í sambúð með svaranda, svarandi virðist ekki vera í sambúð."
        ENDIF


            IF ((NúmerHeimilismanns <> 2 )
                and (heimilismaður[2].aldur >= 16)
                and (heimilismaður[2].hjúsvar = sambud)
                and (heimilismaður[2].tengsl <> maki)
                and (heimilismaður[2].brottfluttur = nei))
                then maki_heimNafn2 := Heimilismaður[2].Nafn
                endif
            IF ((NúmerHeimilismanns <> 3 )
                and (heimilismaður[3].aldur >= 16)
                and (heimilismaður[3].hjúsvar = sambud)
                and (heimilismaður[3].tengsl <> maki)
                and (heimilismaður[3].brottfluttur = nei))
                then maki_heimNafn3 := Heimilismaður[3].Nafn
                endif
            IF ((NúmerHeimilismanns <> 4 )
                and (heimilismaður[4].aldur >= 16)
                and (heimilismaður[4].hjúsvar = sambud)
                and (heimilismaður[4].tengsl <> maki)
                and (heimilismaður[4].brottfluttur = nei))
                then maki_heimNafn4 := Heimilismaður[4].Nafn
                endif
            IF ((NúmerHeimilismanns <> 5 )
                and (heimilismaður[5].aldur >= 16)
                and (heimilismaður[5].hjúsvar = sambud)
                and (heimilismaður[5].tengsl <> maki)
                and (heimilismaður[5].brottfluttur = nei))
                then maki_heimNafn5 := Heimilismaður[5].Nafn
                endif
            IF ((NúmerHeimilismanns <> 6 )
                and (heimilismaður[6].aldur >= 16)
                and (heimilismaður[6].hjúsvar = sambud)
                and (heimilismaður[6].tengsl <> maki)
                and (heimilismaður[6].brottfluttur = nei))
                then maki_heimNafn6 := Heimilismaður[6].Nafn
                endif
            IF ((NúmerHeimilismanns <> 7 )
                and (heimilismaður[7].aldur >= 16)
                and (heimilismaður[7].hjúsvar = sambud)
                and (heimilismaður[7].tengsl <> maki)
                and (heimilismaður[7].brottfluttur = nei))
                then maki_heimNafn7 := Heimilismaður[7].Nafn
                endif
            IF ((NúmerHeimilismanns <> 8 )
                and (heimilismaður[8].aldur >= 16)
                and (heimilismaður[8].hjúsvar = sambud)
                and (heimilismaður[8].tengsl <> maki)
                and (heimilismaður[8].brottfluttur = nei))
                then maki_heimNafn8 := Heimilismaður[8].Nafn
                endif
            IF ((NúmerHeimilismanns <> 9 )
                and (heimilismaður[9].aldur >= 16)
                and (heimilismaður[9].hjúsvar = sambud)
                and (heimilismaður[9].tengsl <> maki)
                and (heimilismaður[9].brottfluttur = nei))
                then maki_heimNafn9 := Heimilismaður[9].Nafn
                endif
            IF ((NúmerHeimilismanns <> 10 )
                and (heimilismaður[10].aldur >= 16)
                and (heimilismaður[10].hjúsvar = sambud)
                and (heimilismaður[10].tengsl <> maki)
                and (heimilismaður[10].brottfluttur = nei))
                then maki_heimNafn10 := Heimilismaður[10].Nafn
                endif
            IF ((NúmerHeimilismanns <> 11 )
                and (heimilismaður[11].aldur >= 16)
                and (heimilismaður[11].hjúsvar = sambud)
                and (heimilismaður[11].tengsl <> maki)
                and (heimilismaður[11].brottfluttur = nei))
                then maki_heimNafn11 := Heimilismaður[11].Nafn
                endif
            IF ((NúmerHeimilismanns <> 12 )
                and (heimilismaður[12].aldur >= 16)
                and (heimilismaður[12].hjúsvar = sambud)
                and (heimilismaður[12].tengsl <> maki)
                and (heimilismaður[12].brottfluttur = nei))
                then maki_heimNafn12 := Heimilismaður[12].Nafn
                endif
            IF ((NúmerHeimilismanns <> 13 )
                and (heimilismaður[13].aldur >= 16)
                and (heimilismaður[13].hjúsvar = sambud)
                and (heimilismaður[13].tengsl <> maki)
                and (heimilismaður[13].brottfluttur = nei))
                then maki_heimNafn13 := Heimilismaður[13].Nafn
                endif
            IF ((NúmerHeimilismanns <> 14 )
                and (heimilismaður[14].aldur >= 16)
                and (heimilismaður[14].hjúsvar = sambud)
                and (heimilismaður[14].tengsl <> maki)
                and (heimilismaður[14].brottfluttur = nei))
                then maki_heimNafn14 := Heimilismaður[14].Nafn
                endif
            IF ((NúmerHeimilismanns <> 15 )
                and (heimilismaður[15].aldur >= 16)
                and (heimilismaður[15].hjúsvar = sambud)
                and (heimilismaður[15].tengsl <> maki)
                and (heimilismaður[15].brottfluttur = nei))
                then maki_heimNafn15 := Heimilismaður[15].Nafn
                endif


            IF ((NúmerHeimilismanns <> 2 )
                and (heimilismaður[2].kyn = karl)
                and ((heimilismaður[2].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[2].brottfluttur = nei))))
                then fadir_heimNafn2 := Heimilismaður[2].Nafn
                endif
            IF ((NúmerHeimilismanns <> 3 )
                and (heimilismaður[3].kyn = karl)
                and ((heimilismaður[3].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[3].brottfluttur = nei))))
                then fadir_heimNafn3 := Heimilismaður[3].Nafn
                endif
            IF ((NúmerHeimilismanns <> 4 )
                and (heimilismaður[4].kyn = karl)
                and ((heimilismaður[4].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[4].brottfluttur = nei))))
                then fadir_heimNafn4 := Heimilismaður[4].Nafn
                endif
            IF ((NúmerHeimilismanns <> 5 )
                and (heimilismaður[5].kyn = karl)
                and ((heimilismaður[5].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[5].brottfluttur = nei))))
                then fadir_heimNafn5 := Heimilismaður[5].Nafn
                endif
            IF ((NúmerHeimilismanns <> 6 )
                and (heimilismaður[6].kyn = karl)
                and ((heimilismaður[6].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[6].brottfluttur = nei))))
                then fadir_heimNafn6 := Heimilismaður[6].Nafn
                endif
            IF ((NúmerHeimilismanns <> 7 )
                and (heimilismaður[7].kyn = karl)
                and ((heimilismaður[7].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[7].brottfluttur = nei))))
                then fadir_heimNafn7 := Heimilismaður[7].Nafn
                endif
            IF ((NúmerHeimilismanns <> 8 )
                and (heimilismaður[8].kyn = karl)
                and ((heimilismaður[8].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[8].brottfluttur = nei))))
                then fadir_heimNafn8 := Heimilismaður[8].Nafn
                endif
            IF ((NúmerHeimilismanns <> 9 )
                and (heimilismaður[9].kyn = karl)
                and ((heimilismaður[9].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[9].brottfluttur = nei))))
                then fadir_heimNafn9 := Heimilismaður[9].Nafn
                endif
            IF ((NúmerHeimilismanns <> 10 )
                and (heimilismaður[10].kyn = karl)
                and ((heimilismaður[10].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[10].brottfluttur = nei))))
                then fadir_heimNafn10 := Heimilismaður[10].Nafn
                endif
            IF ((NúmerHeimilismanns <> 11 )
                and (heimilismaður[11].kyn = karl)
                and ((heimilismaður[11].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[11].brottfluttur = nei))))
                then fadir_heimNafn11 := Heimilismaður[11].Nafn
                endif
            IF ((NúmerHeimilismanns <> 12 )
                and (heimilismaður[12].kyn = karl)
                and ((heimilismaður[12].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[12].brottfluttur = nei))))
                then fadir_heimNafn12 := Heimilismaður[12].Nafn
                endif
            IF ((NúmerHeimilismanns <> 13 )
                and (heimilismaður[13].kyn = karl)
                and ((heimilismaður[13].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[13].brottfluttur = nei))))
                then fadir_heimNafn13 := Heimilismaður[13].Nafn
                endif
            IF ((NúmerHeimilismanns <> 14 )
                and (heimilismaður[14].kyn = karl)
                and ((heimilismaður[14].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[14].brottfluttur = nei))))
                then fadir_heimNafn14 := Heimilismaður[14].Nafn
                endif
            IF ((NúmerHeimilismanns <> 15 )
                and (heimilismaður[15].kyn = karl)
                and ((heimilismaður[15].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[15].brottfluttur = nei))))
                then fadir_heimNafn15 := Heimilismaður[15].Nafn
                endif


            IF ((NúmerHeimilismanns <> 2 )
                and (heimilismaður[2].kyn = kona)
                and ((heimilismaður[2].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[2].brottfluttur = nei))))
                then modir_heimNafn2 := Heimilismaður[2].Nafn
                endif
            IF ((NúmerHeimilismanns <> 3 )
                and (heimilismaður[3].kyn = kona)
                and ((heimilismaður[3].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[3].brottfluttur = nei))))
                then modir_heimNafn3 := Heimilismaður[3].Nafn
                endif
            IF ((NúmerHeimilismanns <> 4 )
                and (heimilismaður[4].kyn = kona)
                and ((heimilismaður[4].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[4].brottfluttur = nei))))
                then modir_heimNafn4 := Heimilismaður[4].Nafn
                endif
            IF ((NúmerHeimilismanns <> 5 )
                and (heimilismaður[5].kyn = kona)
                and ((heimilismaður[5].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[5].brottfluttur = nei))))
                then modir_heimNafn5 := Heimilismaður[5].Nafn
                endif
            IF ((NúmerHeimilismanns <> 6 )
                and (heimilismaður[6].kyn = kona)
                and ((heimilismaður[6].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[6].brottfluttur = nei))))
                then modir_heimNafn6 := Heimilismaður[6].Nafn
                endif
            IF ((NúmerHeimilismanns <> 7 )
                and (heimilismaður[7].kyn = kona)
                and ((heimilismaður[7].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[7].brottfluttur = nei))))
                then modir_heimNafn7 := Heimilismaður[7].Nafn
                endif
            IF ((NúmerHeimilismanns <> 8 )
                and (heimilismaður[8].kyn = kona)
                and ((heimilismaður[8].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[8].brottfluttur = nei))))
                then modir_heimNafn8 := Heimilismaður[8].Nafn
                endif
            IF ((NúmerHeimilismanns <> 9 )
                and (heimilismaður[9].kyn = kona)
                and ((heimilismaður[9].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[9].brottfluttur = nei))))
                then modir_heimNafn9 := Heimilismaður[9].Nafn
                endif
            IF ((NúmerHeimilismanns <> 10 )
                and (heimilismaður[10].kyn = kona)
                and ((heimilismaður[10].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[10].brottfluttur = nei))))
                then modir_heimNafn10 := Heimilismaður[10].Nafn
                endif
            IF ((NúmerHeimilismanns <> 11 )
                and (heimilismaður[11].kyn = kona)
                and ((heimilismaður[11].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[11].brottfluttur = nei))))
                then modir_heimNafn11 := Heimilismaður[11].Nafn
                endif
            IF ((NúmerHeimilismanns <> 12 )
                and (heimilismaður[12].kyn = kona)
                and ((heimilismaður[12].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[12].brottfluttur = nei))))
                then modir_heimNafn12 := Heimilismaður[12].Nafn
                endif
            IF ((NúmerHeimilismanns <> 13 )
                and (heimilismaður[13].kyn = kona)
                and ((heimilismaður[13].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[13].brottfluttur = nei))))
                then modir_heimNafn13 := Heimilismaður[13].Nafn
                endif
            IF ((NúmerHeimilismanns <> 14 )
                and (heimilismaður[14].kyn = kona)
                and ((heimilismaður[14].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[14].brottfluttur = nei))))
                then modir_heimNafn14 := Heimilismaður[14].Nafn
                endif
            IF ((NúmerHeimilismanns <> 15 )
                and (heimilismaður[15].kyn = kona)
                and ((heimilismaður[15].aldur - heimilismaður[NúmerHeimilismanns].aldur) > 15)
                and (((heimilismaður[15].brottfluttur = nei))))
                then modir_heimNafn15 := Heimilismaður[15].Nafn
                endif

         IF heimilismaður[2].tengsl = maki
            then (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[3].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[4].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[5].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[6].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[7].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[8].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[9].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[10].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[11].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[12].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[13].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[14].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[15].tengsl <> maki or heimilismaður[15].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF

         IF heimilismaður[15].tengsl = maki
            then (heimilismaður[2].tengsl <> maki or heimilismaður[2].brottfluttur = já)
                 and (heimilismaður[3].tengsl <> maki or heimilismaður[3].brottfluttur = já)
                 and (heimilismaður[4].tengsl <> maki or heimilismaður[4].brottfluttur = já)
                 and (heimilismaður[5].tengsl <> maki or heimilismaður[5].brottfluttur = já)
                 and (heimilismaður[6].tengsl <> maki or heimilismaður[6].brottfluttur = já)
                 and (heimilismaður[7].tengsl <> maki or heimilismaður[7].brottfluttur = já)
                 and (heimilismaður[8].tengsl <> maki or heimilismaður[8].brottfluttur = já)
                 and (heimilismaður[9].tengsl <> maki or heimilismaður[9].brottfluttur = já)
                 and (heimilismaður[10].tengsl <> maki or heimilismaður[10].brottfluttur = já)
                 and (heimilismaður[11].tengsl <> maki or heimilismaður[11].brottfluttur = já)
                 and (heimilismaður[12].tengsl <> maki or heimilismaður[12].brottfluttur = já)
                 and (heimilismaður[13].tengsl <> maki or heimilismaður[13].brottfluttur = já)
                 and (heimilismaður[14].tengsl <> maki or heimilismaður[14].brottfluttur = já)
                 "Heimilismaður 1 getur aðeins átt einn maka" ENDIF




         IF heimilismaður[2].hjúsvar = sambud and heimilismaður[2].tengsl <> maki
            THEN heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF


         IF heimilismaður[3].hjúsvar = sambud
            and heimilismaður[3].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[4].hjúsvar = sambud
            and heimilismaður[4].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[5].hjúsvar = sambud
            and heimilismaður[5].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[6].hjúsvar = sambud
            and heimilismaður[6].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[7].hjúsvar = sambud
            and heimilismaður[7].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[8].hjúsvar = sambud
            and heimilismaður[8].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[9].hjúsvar = sambud
            and heimilismaður[9].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[10].hjúsvar = sambud
            and heimilismaður[10].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[11].hjúsvar = sambud
            and heimilismaður[11].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[12].hjúsvar = sambud
            and heimilismaður[12].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[12].hjúsvar = sambud
            and heimilismaður[12].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[13].hjúsvar = sambud
            and heimilismaður[13].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[14].hjúsvar = sambud
            and heimilismaður[14].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[15].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         IF heimilismaður[15].hjúsvar = sambud
            and heimilismaður[15].tengsl <> maki
            THEN heimilismaður[2].hjúsvar = sambud
            or heimilismaður[3].hjúsvar = sambud
            or heimilismaður[4].hjúsvar = sambud
            or heimilismaður[5].hjúsvar = sambud
            or heimilismaður[6].hjúsvar = sambud
            or heimilismaður[7].hjúsvar = sambud
            or heimilismaður[8].hjúsvar = sambud
            or heimilismaður[9].hjúsvar = sambud
            or heimilismaður[10].hjúsvar = sambud
            or heimilismaður[11].hjúsvar = sambud
            or heimilismaður[12].hjúsvar = sambud
            or heimilismaður[13].hjúsvar = sambud
            or heimilismaður[14].hjúsvar = sambud
            "Aðeins einn heimilismanna er skráður í sambúð!" ENDIF

         {if heimilismaður2[2].pk_maka.ord > 1  then
           IF heimilismaður2[2].pk_maka = heim03
              then heimilismaður2[3].pk_maka := heim02
              endif
           IF heimilismaður2[2].pk_maka = heim04
              then heimilismaður2[4].pk_maka := heim02
              endif
           IF heimilismaður2[2].pk_maka = heim05
              then heimilismaður2[5].pk_maka := heim02
              endif
           IF heimilismaður2[2].pk_maka = heim06
              then heimilismaður2[6].pk_maka := heim02
              endif
           IF heimilismaður2[2].pk_maka = heim07
              then heimilismaður2[7].pk_maka := heim02
              endif
           IF heimilismaður2[2].pk_maka = heim08
              then heimilismaður2[8].pk_maka := heim02
              endif
           IF heimilismaður2[2].pk_maka = heim09
              then heimilismaður2[9].pk_maka := heim02
              endif
           IF heimilismaður2[2].pk_maka = heim10
              then heimilismaður2[10].pk_maka := heim02
              endif
           IF heimilismaður2[2].pk_maka = heim11
              then heimilismaður2[11].pk_maka := heim02
              endif
           IF heimilismaður2[2].pk_maka = heim12
              then heimilismaður2[12].pk_maka := heim02
              endif
           IF heimilismaður2[2].pk_maka = heim13
              then heimilismaður2[13].pk_maka := heim02
              endif
           IF heimilismaður2[2].pk_maka = heim14
              then heimilismaður2[14].pk_maka := heim02
              endif
           IF heimilismaður2[2].pk_maka = heim15
              then heimilismaður2[15].pk_maka := heim02
              endif
         endif

         IF heimilismaður2[3].pk_maka = heim04
            then heimilismaður2[4].pk_maka := heim03
            endif
         IF heimilismaður2[3].pk_maka = heim05
            then heimilismaður2[5].pk_maka := heim03
            endif
         IF heimilismaður2[3].pk_maka = heim06
            then heimilismaður2[6].pk_maka := heim03
            endif
         IF heimilismaður2[3].pk_maka = heim07
            then heimilismaður2[7].pk_maka := heim03
            endif
         IF heimilismaður2[3].pk_maka = heim08
            then heimilismaður2[8].pk_maka := heim03
            endif
         IF heimilismaður2[3].pk_maka = heim09
            then heimilismaður2[9].pk_maka := heim03
            endif
         IF heimilismaður2[3].pk_maka = heim10
            then heimilismaður2[10].pk_maka := heim03
            endif
         IF heimilismaður2[3].pk_maka = heim11
            then heimilismaður2[11].pk_maka := heim03
            endif
         IF heimilismaður2[3].pk_maka = heim12
            then heimilismaður2[12].pk_maka := heim03
            endif
         IF heimilismaður2[3].pk_maka = heim13
            then heimilismaður2[13].pk_maka := heim03
            endif
         IF heimilismaður2[3].pk_maka = heim14
            then heimilismaður2[14].pk_maka := heim03
            endif
         IF heimilismaður2[3].pk_maka = heim15
            then heimilismaður2[15].pk_maka := heim03
            endif

         IF heimilismaður2[4].pk_maka = heim05
            then heimilismaður2[5].pk_maka := heim04
            endif
         IF heimilismaður2[4].pk_maka = heim06
            then heimilismaður2[6].pk_maka := heim04
            endif
         IF heimilismaður2[4].pk_maka = heim07
            then heimilismaður2[7].pk_maka := heim04
            endif
         IF heimilismaður2[4].pk_maka = heim08
            then heimilismaður2[8].pk_maka := heim04
            endif
         IF heimilismaður2[4].pk_maka = heim09
            then heimilismaður2[9].pk_maka := heim04
            endif
         IF heimilismaður2[4].pk_maka = heim10
            then heimilismaður2[10].pk_maka := heim04
            endif
         IF heimilismaður2[4].pk_maka = heim11
            then heimilismaður2[11].pk_maka := heim04
            endif
         IF heimilismaður2[4].pk_maka = heim12
            then heimilismaður2[12].pk_maka := heim04
            endif
         IF heimilismaður2[4].pk_maka = heim13
            then heimilismaður2[13].pk_maka := heim04
            endif
         IF heimilismaður2[4].pk_maka = heim14
            then heimilismaður2[14].pk_maka := heim04
            endif
         IF heimilismaður2[4].pk_maka = heim15
            then heimilismaður2[15].pk_maka := heim04
            endif


         IF heimilismaður2[5].pk_maka = heim06
            then heimilismaður2[6].pk_maka := heim05
            endif
         IF heimilismaður2[5].pk_maka = heim07
            then heimilismaður2[7].pk_maka := heim05
            endif
         IF heimilismaður2[5].pk_maka = heim08
            then heimilismaður2[8].pk_maka := heim05
            endif
         IF heimilismaður2[5].pk_maka = heim09
            then heimilismaður2[9].pk_maka := heim05
            endif
         IF heimilismaður2[5].pk_maka = heim10
            then heimilismaður2[10].pk_maka := heim05
            endif
         IF heimilismaður2[5].pk_maka = heim11
            then heimilismaður2[11].pk_maka := heim05
            endif
         IF heimilismaður2[5].pk_maka = heim12
            then heimilismaður2[12].pk_maka := heim05
            endif
         IF heimilismaður2[5].pk_maka = heim13
            then heimilismaður2[13].pk_maka := heim05
            endif
         IF heimilismaður2[5].pk_maka = heim14
            then heimilismaður2[14].pk_maka := heim05
            endif
         IF heimilismaður2[5].pk_maka = heim15
            then heimilismaður2[15].pk_maka := heim05
            endif

         IF heimilismaður2[6].pk_maka = heim07
            then heimilismaður2[7].pk_maka := heim06
            endif
         IF heimilismaður2[6].pk_maka = heim08
            then heimilismaður2[8].pk_maka := heim06
            endif
         IF heimilismaður2[6].pk_maka = heim09
            then heimilismaður2[9].pk_maka := heim06
            endif
         IF heimilismaður2[6].pk_maka = heim10
            then heimilismaður2[10].pk_maka := heim06
            endif
         IF heimilismaður2[6].pk_maka = heim11
            then heimilismaður2[11].pk_maka := heim06
            endif
         IF heimilismaður2[6].pk_maka = heim12
            then heimilismaður2[12].pk_maka := heim06
            endif
         IF heimilismaður2[6].pk_maka = heim13
            then heimilismaður2[13].pk_maka := heim06
            endif
         IF heimilismaður2[6].pk_maka = heim14
            then heimilismaður2[14].pk_maka := heim06
            endif
         IF heimilismaður2[6].pk_maka = heim15
            then heimilismaður2[15].pk_maka := heim06
            endif

         IF heimilismaður2[7].pk_maka = heim08
            then heimilismaður2[8].pk_maka := heim07
            endif
         IF heimilismaður2[7].pk_maka = heim09
            then heimilismaður2[9].pk_maka := heim07
            endif
         IF heimilismaður2[7].pk_maka = heim10
            then heimilismaður2[10].pk_maka := heim07
            endif
         IF heimilismaður2[7].pk_maka = heim11
            then heimilismaður2[11].pk_maka := heim07
            endif
         IF heimilismaður2[7].pk_maka = heim12
            then heimilismaður2[12].pk_maka := heim07
            endif
         IF heimilismaður2[7].pk_maka = heim13
            then heimilismaður2[13].pk_maka := heim07
            endif
         IF heimilismaður2[7].pk_maka = heim14
            then heimilismaður2[14].pk_maka := heim07
            endif
         IF heimilismaður2[7].pk_maka = heim15
            then heimilismaður2[15].pk_maka := heim07
            endif



         IF heimilismaður2[8].pk_maka = heim09
            then heimilismaður2[9].pk_maka := heim08
            endif
         IF heimilismaður2[8].pk_maka = heim10
            then heimilismaður2[10].pk_maka := heim08
            endif
         IF heimilismaður2[8].pk_maka = heim11
            then heimilismaður2[11].pk_maka := heim08
            endif
         IF heimilismaður2[8].pk_maka = heim12
            then heimilismaður2[12].pk_maka := heim08
            endif
         IF heimilismaður2[8].pk_maka = heim13
            then heimilismaður2[13].pk_maka := heim08
            endif
         IF heimilismaður2[8].pk_maka = heim14
            then heimilismaður2[14].pk_maka := heim08
            endif
         IF heimilismaður2[8].pk_maka = heim15
            then heimilismaður2[15].pk_maka := heim08
            endif

         IF heimilismaður2[9].pk_maka = heim10
            then heimilismaður2[10].pk_maka := heim09
            endif
         IF heimilismaður2[9].pk_maka = heim11
            then heimilismaður2[11].pk_maka := heim09
            endif
         IF heimilismaður2[9].pk_maka = heim12
            then heimilismaður2[12].pk_maka := heim09
            endif
         IF heimilismaður2[9].pk_maka = heim13
            then heimilismaður2[13].pk_maka := heim09
            endif
         IF heimilismaður2[9].pk_maka = heim14
            then heimilismaður2[14].pk_maka := heim09
            endif
         IF heimilismaður2[9].pk_maka = heim15
            then heimilismaður2[15].pk_maka := heim09
            endif

         IF heimilismaður2[10].pk_maka = heim11
            then heimilismaður2[11].pk_maka := heim10
            endif
         IF heimilismaður2[10].pk_maka = heim12
            then heimilismaður2[12].pk_maka := heim10
            endif
         IF heimilismaður2[10].pk_maka = heim13
            then heimilismaður2[13].pk_maka := heim10
            endif
         IF heimilismaður2[10].pk_maka = heim14
            then heimilismaður2[14].pk_maka := heim10
            endif
         IF heimilismaður2[10].pk_maka = heim15
            then heimilismaður2[15].pk_maka := heim10
            endif

         IF heimilismaður2[11].pk_maka = heim12
            then heimilismaður2[12].pk_maka := heim11
            endif
         IF heimilismaður2[11].pk_maka = heim13
            then heimilismaður2[13].pk_maka := heim11
            endif
         IF heimilismaður2[11].pk_maka = heim14
            then heimilismaður2[14].pk_maka := heim11
            endif
         IF heimilismaður2[11].pk_maka = heim15
            then heimilismaður2[15].pk_maka := heim11
            endif

         IF heimilismaður2[12].pk_maka = heim13
            then heimilismaður2[13].pk_maka := heim12
            endif
         IF heimilismaður2[12].pk_maka = heim14
            then heimilismaður2[14].pk_maka := heim12
            endif
         IF heimilismaður2[12].pk_maka = heim15
            then heimilismaður2[15].pk_maka := heim12
            endif


         IF heimilismaður2[13].pk_maka = heim14
            then heimilismaður2[14].pk_maka := heim13
            endif
         IF heimilismaður2[13].pk_maka = heim15
            then heimilismaður2[15].pk_maka := heim13
            endif


         IF heimilismaður2[14].pk_maka = heim15
            then heimilismaður2[15].pk_maka := heim14
            endif }



         IF heimilismaður[NúmerHeimilismanns].hjúsvar = sambud and heimilismaður[NúmerHeimilismanns].tengsl <> maki then
           if ErMaki[NúmerHeimilismanns] = empty then
             pk_maka {Spurning færð á undan spurningum um móður og föður af AÖK 240108}
             for i := 1 to 15 do
               if ErMaki[i] = NúmerHeimilismanns then
                 ErMaki[i] := empty
               endif
             enddo
             if pk_maka <> empty then ErMaki [pk_maka.ord] := NúmerHeimilismanns endif
           else
             pk_maka := ErMaki[NúmerHeimilismanns]
             pk_maka.show
           endif
         endif

         IF (heimilismaður[NúmerHeimilismanns].tengsl <> maki
            and heimilismaður[NúmerHeimilismanns].tengsl <> barn
            and heimilismaður[NúmerHeimilismanns].tengsl <> systkini
            and heimilismaður[NúmerHeimilismanns].tengsl <> foreldri
            and heimilismaður[NúmerHeimilismanns].brottfluttur = nei)
            Then if heimilismaður[2].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[2].brottfluttur = nei and heimilismaður[2].kyn = karl
                    OR heimilismaður[3].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[3].brottfluttur = nei and heimilismaður[3].kyn = karl
                    OR heimilismaður[4].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[4].brottfluttur = nei and heimilismaður[4].kyn = karl
                    OR heimilismaður[5].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[5].brottfluttur = nei and heimilismaður[5].kyn = karl
                    OR heimilismaður[6].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[6].brottfluttur = nei and heimilismaður[6].kyn = karl
                    OR heimilismaður[7].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[7].brottfluttur = nei and heimilismaður[7].kyn = karl
                    OR heimilismaður[8].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[8].brottfluttur = nei and heimilismaður[8].kyn = karl
                    OR heimilismaður[9].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[9].brottfluttur = nei and heimilismaður[9].kyn = karl
                    OR heimilismaður[10].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[10].brottfluttur = nei and heimilismaður[10].kyn = karl
                    OR heimilismaður[11].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[11].brottfluttur = nei and heimilismaður[11].kyn = karl
                    OR heimilismaður[12].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[12].brottfluttur = nei and heimilismaður[12].kyn = karl
                    OR heimilismaður[13].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[13].brottfluttur = nei and heimilismaður[13].kyn = karl
                    OR heimilismaður[14].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[14].brottfluttur = nei and heimilismaður[14].kyn = karl
                    OR heimilismaður[15].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[15].brottfluttur = nei and heimilismaður[15].kyn = karl
            then pk_fadir
            endif
         endif


         IF (heimilismaður[NúmerHeimilismanns].tengsl <> maki
            and heimilismaður[NúmerHeimilismanns].tengsl <> barn
            and heimilismaður[NúmerHeimilismanns].tengsl <> systkini
            and heimilismaður[NúmerHeimilismanns].tengsl <> foreldri
            and heimilismaður[NúmerHeimilismanns].brottfluttur = nei)
            Then if heimilismaður[2].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[2].brottfluttur = nei and heimilismaður[2].kyn = kona
                    OR heimilismaður[3].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[3].brottfluttur = nei and heimilismaður[3].kyn = kona
                    OR heimilismaður[4].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[4].brottfluttur = nei and heimilismaður[4].kyn = kona
                    OR heimilismaður[5].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[5].brottfluttur = nei and heimilismaður[5].kyn = kona
                    OR heimilismaður[6].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[6].brottfluttur = nei and heimilismaður[6].kyn = kona
                    OR heimilismaður[7].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[7].brottfluttur = nei and heimilismaður[7].kyn = kona
                    OR heimilismaður[8].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[8].brottfluttur = nei and heimilismaður[8].kyn = kona
                    OR heimilismaður[9].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[9].brottfluttur = nei and heimilismaður[9].kyn = kona
                    OR heimilismaður[10].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[10].brottfluttur = nei and heimilismaður[10].kyn = kona
                    OR heimilismaður[11].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[11].brottfluttur = nei and heimilismaður[11].kyn = kona
                    OR heimilismaður[12].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[12].brottfluttur = nei and heimilismaður[12].kyn = kona
                    OR heimilismaður[13].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[13].brottfluttur = nei and heimilismaður[13].kyn = kona
                    OR heimilismaður[14].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[14].brottfluttur = nei and heimilismaður[14].kyn = kona
                    OR heimilismaður[15].aldur - heimilismaður[NúmerHeimilismanns].aldur > 14 and heimilismaður[15].brottfluttur = nei and heimilismaður[15].kyn = kona
            then pk_modir
            endif
         endif

         {if aldur <= 24 or FæðÁr = dk then }{pk_fadir} {endif}   {Leiðarstjórnun breytt, 080107 af AÖK}
         {if aldur <= 24 or FæðÁr = dk then }{pk_modir} {endif}   {Leiðarstjórnun breytt, 080107 af AÖK}

         {if aldur >= 16 or FæðÁr = dk then
           if Tengsl = maki then
             pk_maka := heim01
             pk_maka.show
           else
             if Hjúsvar = sambud then
               pk_maka
             endif
           endif
         endif }


         if Tengsl = Óskyldur then nanar_oskyldur endif

         Alias := Nafn + ', ' + TnTexti+ ', ' + str(aldur) + ' ára'

         if óskráður_seinni_hluti = já then
           HmNýrÁr
           check
           if HmNýrÁr = response then HmNýrÁr <= year(VidtalByrjarDags) "innflutningsár getur ekki verið hærra en árið í ár" endif
           IF HMNýrÁr = 2014 or HMNýrÁr = 2015 then
           HmNýrMánuður
           if HmNýrMánuður = dk then HmNýrMánuðurGisk endif endif
{AÖK 180208}
           {HmNýrMánuður
           if HmNýrMánuður = dk then HmNýrMánuðurGisk endif
           HmNýrÁr
           check
           if HmNýrÁr = response then HmNýrÁr <= year(VidtalByrjarDags) "innflutningsár getur ekki verið hærra en árið í ár" endif}
         endif
       endif
     ENDIF

     fsvar := ''
LAYOUT
AT BLOCKSTART
INFOPANE Tofluskjar


ENDBLOCK
